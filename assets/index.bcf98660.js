import{a as M,u as x,r as a,b as y,j as e,c as n,t as f,L as u,d as $,T as w,R as B,e as k,B as C}from"./vendor.e398e2af.js";const I=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const t of o)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function l(o){const t={};return o.integrity&&(t.integrity=o.integrity),o.referrerpolicy&&(t.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?t.credentials="include":o.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(o){if(o.ep)return;o.ep=!0;const t=l(o);fetch(o.href,t)}};I();const S="660709e57868ca59f65c23440f729164",N="https://image.tmdb.org/t/p/original",O=M.create({baseURL:"https://api.themoviedb.org/3/movie/"}),F="_loading_1onpy_1",R="_movieInfo_1onpy_3",P="_containerButton_1onpy_38";var h={loading:F,movieInfo:R,containerButton:P};const g={position:"top-right",autoClose:1500,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:void 0,theme:"dark"},E=()=>{const{slug:i}=x(),[s,l]=a.exports.useState({}),[r,o]=a.exports.useState(!0),t=y();a.exports.useEffect(()=>(c(Number(i)),()=>{}),[i,t]);const c=async p=>{const{data:d}=await O.get(`${p}?api_key=${S}&language=en-US`);if(d.length===0){t("/");return}l(d),o(!1)},b=()=>{const p=localStorage.getItem("movies");let d=JSON.parse(String(p))||[];if(d.some(L=>L.id===s.id)){f.warning("Voce ja possui esse filme",g);return}d.push(s),localStorage.setItem("movies",JSON.stringify(d)),f.success("Salvo Com sucesso",g)};return r?e("h2",{className:h.loading,children:"Loading your movie"}):n("div",{className:h.movieInfo,children:[e("h1",{children:s.original_title}),e("img",{src:N+s.poster_path,alt:s.original_title}),e("h3",{children:"Sinopse"}),s.overview,n("div",{className:h.containerButton,children:[e("button",{onClick:b,className:h.favorites,children:"Favorito"}),e("button",{children:e("a",{target:"blank",href:`https://www.youtube.com/results?search_query=${s.original_title} Trailer`,children:"Trailer"})})]})]})},T="_container_10s16_1",H="_listMovies_10s16_9";var m={container:T,listMovies:H};const j=()=>{const[i,s]=a.exports.useState([]),[l,r]=a.exports.useState(!1),o=async()=>{r(!0);const{data:t}=await O.get(`popular?api_key=${S}&language=en-US&page=1`);t&&s(t.results),r(!1)};return a.exports.useEffect(()=>{o()},[]),e("main",{className:m.container,children:e("section",{className:m.listMovies,children:i.map((t,c)=>n("article",{children:[e("strong",{children:t.title}),e("img",{src:N+t.backdrop_path,alt:t.original_title}),e(u,{to:`/filme/${t.id}`,children:"Acessar"})]},t.id))})})},A="_container_emd1l_1",J="_containerButton_emd1l_45";var v={container:A,containerButton:J};const U={position:"top-right",autoClose:1500,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:void 0,theme:"dark"},V=()=>{const[i,s]=a.exports.useState([]);y(),a.exports.useEffect(()=>{const r=localStorage.getItem("movies");s(JSON.parse(r)||[])},[]);const l=r=>{let o=i.filter(t=>t.id!==r);s(o),localStorage.setItem("movies",JSON.stringify(o)),f.error("Removido Com Sucesso",U)};return n("div",{className:v.container,children:[e("h1",{children:"Favoritos"}),i.length===0&&e("span",{children:"Voc\xEA nao possui nenhum favorito \u{1F614}"}),e("ul",{children:i.map((r,o)=>n("li",{children:[e("span",{children:r.original_title}),n("div",{className:v.containerButton,children:[e(u,{to:`/filme/${r.id}`,children:"Ver Detalhes"}),e("button",{onClick:()=>l(r.id),children:" Excluir"})]})]},r.id))})]})},q="_container_1isip_1";var z={container:q};const D=()=>n("div",{className:z.container,children:[e("h2",{children:"Not Found 404..."}),e("p",{children:e(u,{to:"/",children:"Go to the home page"})})]}),G=()=>$([{path:"/",element:e(j,{})},{path:"/filme/:slug",element:e(E,{})},{path:"/favorites",element:e(V,{})},{path:"*",element:e(D,{})}]);function K(){return n("div",{className:"app",children:[e(G,{}),e(w,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,pauseOnFocusLoss:!1,pauseOnHover:!1})]})}const Q="_logo_w4rwz_10",W="_favorites_w4rwz_32";var _={logo:Q,favorites:W};const X=()=>n("header",{children:[e(u,{to:"/",className:_.logo,children:"CinePoster"}),e(u,{to:"/favorites",className:_.favorites,children:"Favoritos"})]});B.render(e(k.StrictMode,{children:n(C,{children:[e(X,{}),e(K,{})]})}),document.getElementById("root"));
